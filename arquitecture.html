<!DOCTYPE html>
<html>
    <head>
        <title>Architecture</title>
        <!--Bootstrap-->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <!--Icons-->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
        <!--CSS-->
        <link rel="stylesheet" type="text/css" href="CSS/catalogueStyle.css">
        <link rel="stylesheet" type="text/css" href="CSS/homeStyle.css">
        <link rel="stylesheet" type="text/css" href="CSS/navBarStyle.css">
        <!--Fonts-->
        <link href="https://fonts.googleapis.com/css?family=Raleway:700" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Montserrat:600" rel="stylesheet">
        <!--NavBar-->
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
        <!--Nav Bar-->
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">
                <div id="navbar" class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <div id="mySidenav" class="sidenav">
                            <button class="closeButton" onclick="closeNav()"><i class="fas fa-arrow-left"></i></button>
                            <a href="invoice_ninja.html"><h2>Invoice Ninja</h2></a>
                            <hr id="navBarLine">
                            <a href="summary.html">Resumen</a>
                            <a href="generalDescription.html">General Description</a>
                            <a href="features.html">Features</a>
                            <a href="UI.html">UI</a>
                            <a href="UX.html">UX</a>
                            <a href="performance.html">Performance</a>
                            <a href="eventualConectivity.html">Conectividad Eventual</a>
                            <a href="freealternatives.html">Free alternatives</a>
                            <a href="paidalternatives.html">Paid alternatives</a>
                            <a href="Mercado.html">Market</a>
                            <a href="arquitecture.html">Architecture</a>
                        </div>
                        <span id="optionsButton" class="pull-left" onclick="openNav()"><i class="fas fa-bars"></i></span>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <a id="logo" href="home.html" class="pull-right"><img src="https://avatars1.githubusercontent.com/u/15712270?s=200&v=4" height="50" width="50" alt="Invoice_ninja logo"></a>
                    </ul>
                </div>
            </div>
        </nav>

        <!--Page Content-->
        <div class="container-fluid">
            <!--Catalogue1----------------------------------->
            <div class="row justify-content-md-center align-items-center catalogueRow">
                <div class="col-sm-6">
                    <h1>Archi- <br> tecture</h1>
                </div>
                <div class="col-sm-6">
                    <div class="w-100 divider"></div>
                    <div class="col">

                        <h2>Storage and data handling</h2>

                        <br>
                        <br>

                        <p>We will now discuss how data is stored in the device and presented to the user. There are 5 points to analyze: </p>
                        <ul id="parragraphContent">
                            <li>SharedPreferences</li>
                            <li>Local-Private</li>
                            <li>External-Public</li>
                            <li>Remote Storage</li>
                            <li>Cache and data fetching strategies</li>
                        </ul>

                        <br>

                        <h3>Shared preferences</h3>

                        <p>There are in total 7 files in which the SharedPreferences library is used</p>
                        <p><strong>main.dart</strong></p>
                        <img src="https://github.com/javierbarbosa42/InvoiceNinjaAnalysis/raw/master/Images/ContentImages/Main.png" height="150" width="700" alt="SharedPreferences in Main file.">

                        <p>In this file, the SharedPreferences library is used for setting up some configurations of the app as setting the dark mode on the app or requiring login</p>

                        <br>

                        <p><strong>auth_middleware.dart</strong></p>
                        <img src="https://github.com/javierbarbosa42/InvoiceNinjaAnalysis/raw/master/Images/ContentImages/SharedPrefsAuth.png" height="300" width="700" alt="SharedPreferences in Main file.">

                        <p>In this file, the SharedPreferences library is used for fetching or saving data on the login.</p>

                        <br>

                        <p><strong>app_middleware.dart</strong></p>
                        <img src="https://github.com/javierbarbosa42/InvoiceNinjaAnalysis/raw/master/Images/ContentImages/SharedPrefsAppMiddle.png" height="300" width="700" alt="SharedPreferences in Main file.">

                        <p>In this file, the SharedPreferences library is used for getting data on the state of the app.</p>

                        <br>

                        <p><strong>expense_edit_vm.dart</strong></p>
                        <img src="https://github.com/javierbarbosa42/InvoiceNinjaAnalysis/raw/master/Images/ContentImages/SharedPrefsExpenseEdit.png" height="300" width="700" alt="SharedPreferences in Main file.">

                        <p>In this file, the SharedPreferences library is used for getting selected preferences on whether to sen an email after registering an expense.</p>

                        <br>

                        <p><strong>payment_edit_vm.dart</strong></p>
                        <img src="https://raw.githubusercontent.com/javierbarbosa42/InvoiceNinjaAnalysis/master/Images/ContentImages/SharedPrefsPayEdit.png
" height="300" width="700" alt="SharedPreferences in Main file.">

                        <p>In this file, the SharedPreferences library is used for getting selected preferences on whether to sen an email after registering a payment.</p>

                        <br>

                        <p><strong>persistence_repository.dart</strong></p>
                        <img src="https://github.com/javierbarbosa42/InvoiceNinjaAnalysis/raw/master/Images/ContentImages/SharedPrefsPersistence.png
" height="300" width="700" alt="SharedPreferences in Main file.">

                        <p>In this file, the SharedPreferences library is used for getting the actual company state.</p>

                        <br>

                        <p><strong>settings_list_vm.dart</strong></p>
                        <img src="https://github.com/javierbarbosa42/InvoiceNinjaAnalysis/raw/master/Images/ContentImages/SharedPrefsSettingsList.png
" height="300" width="700" alt="SharedPreferences in Main file.">

                        <p>In this file, the SharedPreferences library is used for getting the current selected settings.</p>

                        <br>
                        <br>

                        <h3>Local-Private</h3>

                        <p>This refers to storing data in SQLite. This app does not use this storage strategy in implementation but makes use of the <a href="https://pub.dev/packages/cached_network_image">cached_network_image</a> library to create the cache and keep the images in the app.</p>

                        <br>
                        <br>

                        <h3>External-Public</h3>

                        <p>This refers to storing data in an external folder inside the phone, like the sd card. <br>
                        By the way it is implemented (shown below) there is no option for the user to save the picture on the phone, once is selected or confirmed after taking the picture, the app will upload it to the server.</p>
                        <img src="https://github.com/javierbarbosa42/InvoiceNinjaAnalysis/raw/master/Images/ContentImages/CameraUsage.png
" height="300" width="700" alt="Camera Usage">

                        <br>
                        <br>

                        <h3>Remote Storage</h3>

                        <p>Data is fetched and saved remotely using the web API. Recall the app is strongly related to the web app due to it relying on its service to save and get information. This API uses JSON serialized objects to communicate. As follows: </p>

                    </div>
                </div>
            </div>
        </div>


        <!--Screen8----------------------------------------------->
        <div class="row justify-content-md-center align-items-center">
            <div class="col contactPage blackPage">
                <h2 id="infoTitle">Invoice Ninja</h2>
            </div>
        </div>
        <!--JQuery and JavaScript-->
        <script
                src="https://code.jquery.com/jquery-3.3.1.js"
                integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
                crossorigin="anonymous"></script>
        <!--NavBar JS-->
        <script type="text/javascript" src="JS/navBar.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    </body>
</html>